<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>eb1ta1</title>
    <link>https://eb1ta1.github.io/</link>
    <description>Recent content on eb1ta1</description>
    <image>
      <url>https://eb1ta1.github.io/papermod-cover.png</url>
      <link>https://eb1ta1.github.io/papermod-cover.png</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Fri, 19 Nov 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://eb1ta1.github.io/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>BudouXをPythonで実行し、GitHub Actionsで使ってみる</title>
      <link>https://eb1ta1.github.io/posts/budoux-on-blog/</link>
      <pubDate>Fri, 19 Nov 2021 00:00:00 +0000</pubDate>
      
      <guid>https://eb1ta1.github.io/posts/budoux-on-blog/</guid>
      <description>Googleの日本語改行ライブラリ、Budouの後継版に当たるBudouXが公開されたので、GitHub Actions上で走らせてみました。
 Webアプリで試してみる まずは公式デモアプリを使い、日本語版Lorem Ipsumとしておなじみのイーハトーブを変換してみます。
原文
 あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。山路を登りながら、こう考えた。智に働けば角が立つ。情に棹させば流される。意地を通せば窮屈だ。とかくに人の世は住みにくい。住みにくさが高じると、安い所へ引き越したくなる。どこへ越しても住みにくいと悟った時、詩が生れて、画が出来る。
 変換後
 あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。山路を登りながら、こう考えた。智に働けば角が立つ。情に棹させば流される。意地を通せば窮屈だ。とかくに人の世は住みにくい。住みにくさが高じると、安い所へ引き越したくなる。どこへ越しても住みにくいと悟った時、詩が生れて、画が出来る。
 かなり読みやすくなっています。
Pythonで動かしてみる 次に、BudouXをインストールしたPython環境で試してみます。
import budoux parser = budoux.load_default_japanese_parser() print(parser.translate_html_string(&amp;#39;あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。&amp;#39;)) このようなHTMLコードが出力されます。
&amp;lt;span style=&amp;quot;word-break: keep-all; overflow-wrap: break-word;&amp;quot;&amp;gt;あのイーハトーヴォの&amp;lt;wbr&amp;gt;すきと&amp;lt;wbr&amp;gt;おった&amp;lt;wbr&amp;gt;風、&amp;lt;wbr&amp;gt;夏でも&amp;lt;wbr&amp;gt;底に&amp;lt;wbr&amp;gt;冷たさを&amp;lt;wbr&amp;gt;もつ&amp;lt;wbr&amp;gt;青いそら、&amp;lt;wbr&amp;gt;うつくしい&amp;lt;wbr&amp;gt;森で&amp;lt;wbr&amp;gt;飾られた&amp;lt;wbr&amp;gt;モリーオ市、&amp;lt;wbr&amp;gt;郊外の&amp;lt;wbr&amp;gt;ぎらぎらひかる&amp;lt;wbr&amp;gt;草の&amp;lt;wbr&amp;gt;波。&amp;lt;/span&amp;gt; より簡単に使えるようにするため、budou_x.pyというスクリプトを書きました。
# ./source/budou_x.py import sys args = sys.argv base_path = args[1] input_file = args[2] output_file = args[3] def budou_x_convert(): text_file = open(base_path + input_file, &amp;#39;r&amp;#39;) text = text_file.read() text_file.close() import budoux parser = budoux.load_default_japanese_parser() converted_text = parser.translate_html_string(text) # print(converted_text) f = open(base_path + output_file, &amp;#39;w&amp;#39;) f.</description>
    </item>
    
    
    
  </channel>
</rss>
